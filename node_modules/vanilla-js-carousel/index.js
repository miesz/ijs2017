module.exports=function(a){function v(){e&&x(),f&&A(),g&&B(),c&&H(),w(r-1,-b.offsetWidth+"px","afterBegin"),s&&E(s)}function w(a,c,d){var e=b.querySelectorAll("."+h+" > ul li")[a];e.style.marginLeft=c,b.querySelector("."+h+" > ul").removeChild(e),b.querySelector("."+h+" > ul").insertAdjacentHTML(d,e.outerHTML)}function x(){var a=document.createElement("ul");a.classList.add(k),a.addEventListener("click",z.bind(this));for(var c=0;c<r;c++){var d=document.createElement("li");d.setAttribute("data-position",c),a.appendChild(d)}b.appendChild(a),y()}function y(){switch([].forEach.call(b.querySelectorAll("."+k+" li"),function(a){a.classList.remove("active")}),t){case-1:t=r-1;break;case r:t=0;break;default:t=t}b.querySelectorAll("."+k+" li")[t].classList.add("active")}function z(a){"LI"===a.target.tagName&&E(a.target.getAttribute("data-position"))}function A(){var a=document.createElement("button");a.innerHTML=q,a.classList.add(i);var c=document.createElement("button");c.innerHTML=p,c.classList.add(j),a.addEventListener("click",F),c.addEventListener("click",G),b.appendChild(a),b.appendChild(c)}function B(){var a=document.createElement("button");a.innerHTML=n,a.classList.add(m),a.addEventListener("click",H);var c=document.createElement("button");c.innerHTML=o,c.classList.add(l),c.addEventListener("click",I),b.appendChild(a),b.appendChild(c)}function C(a){a.style.marginLeft=""}function D(a){a.style.marginLeft=-b.offsetWidth+"px"}function E(a){var b=t-a;if(0!==b)if(b<0)for(var c=0;c<-b;c++)G();else for(var d=0;d<b;d++)F()}function F(){C(b.querySelectorAll("."+h+" > ul li")[0]),w(r-1,-b.offsetWidth+"px","afterBegin"),t--,e&&y()}function G(){D(b.querySelectorAll("."+h+" > ul li")[1]),w(0,"","beforeEnd"),t++,e&&y()}function H(){u||(u=setInterval(G.bind(this),d))}function I(){clearInterval(u),u=null}function J(){return t}var b=document.getElementById(a.elem||"carousel"),c=a.autoplay||!1,d=a.interval||3e3,e=a.dots&&!0,f=a.arrows&&!0,g=a.buttons&&!0,h=a.crslClass||"js-carousel",i=a.crslArrowPrevClass||"arrow_prev",j=a.crslArrowNextClass||"arrow_next",k=a.crslDotsClass||"dots",l=a.crslButtonStopClass||"btn_stop",m=a.crslButtonPlayClass||"btn_play",n=a.btnPlayText||"Play",o=a.btnStopText||"Stop",p=a.arrNextText||"&rsaquo;",q=a.arrPrevText||"&lsaquo;",r=b.querySelectorAll("li").length,s=a.initial>=r?r:a.initial,t=0,u=null;return r>1&&v(),{live:J,show:E,prev:F,next:G,play:H,stop:I}};